<!--
 * @Author: Blueth007
 * @Date: 2022-03-07 14:49:32
 * @LastEditTime: 2022-03-29 16:27:13
 * @Description: 
 * MIT
-->
<template>
  <nav class="navbar" v-if="isShowNavbar">
    <div class="logo">
      <svg
        data-v-2cb57da0=""
        version="1.0"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        preserveAspectRatio="xMidYMid meet"
        color-interpolation-filters="sRGB"
        style="width: 146px; height: 40px"
      >
        <g data-v-2cb57da0="" fill="#333" transform="scale(0.6)  ">
          <g transform="matrix(1,0,0,1,0,4.156656265258789)" opacity="1">
            <g>
              <rect
                fill="#333"
                fill-opacity="0"
                stroke-width="2"
                x="0"
                y="0"
                width="60"
                height="60.006000600060005"
                class="image-rect"
              ></rect>
              <svg
                x="0"
                y="0"
                width="60"
                height="60.006000600060005"
                filtersec="colorsb2197790654"
                class="image-svg-svg primary"
                style="overflow: visible"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0.01964184083044529 -0.03000464104115963 99.9903564453125 100.00001525878906"
                >
                  <path
                    d="M75.74 61.83H62.5a17.53 17.53 0 0 1-26.75-1.37 2.57 2.57 0 0 0 .3-1.17 2.53 2.53 0 1 0-2.53 2.53 2.73 2.73 0 0 0 .5 0A19.68 19.68 0 0 0 63.41 64h9.45a26.79 26.79 0 1 1 0-28h-9.1a19.69 19.69 0 0 0-30.19 2.5 2.53 2.53 0 1 0 2.48 2.5 2.47 2.47 0 0 0-.53-1.53 17.53 17.53 0 0 1 27.29-1.33H98.6a50 50 0 1 0 0 23.66zm-43.45-2.54a1.23 1.23 0 1 1 1.23 1.23 1.24 1.24 0 0 1-1.23-1.23zM34.75 41a1.23 1.23 0 1 1-1.23-1.23A1.23 1.23 0 0 1 34.75 41zM83.6 73.42a3.7 3.7 0 0 1-.95-.14 40 40 0 1 1 0-46.56 3.7 3.7 0 0 1 .95-.14 3.86 3.86 0 1 1-3.27 1.86 37.14 37.14 0 1 0 0 43.12 3.83 3.83 0 1 1 3.27 1.86z"
                    fill="#0080df"
                  ></path>
                  <path
                    d="M99.87 46.27H58.16a9 9 0 1 0 0 7.46h41.71c.09-1.23.14-2.47.14-3.73s-.01-2.5-.14-3.73zM50 53.73A3.73 3.73 0 1 1 53.73 50 3.73 3.73 0 0 1 50 53.73z"
                    fill="#f6911e"
                  ></path>
                  <path
                    d="M81.74 30.42a1.87 1.87 0 1 0 1.86-1.87 1.87 1.87 0 0 0-1.86 1.87zM83.6 67.71a1.87 1.87 0 1 0 1.87 1.87 1.87 1.87 0 0 0-1.87-1.87z"
                    fill="#0080df"
                  ></path>
                </svg>
              </svg>
            </g>
          </g>
          <g transform="translate(67,0)">
            <g data-gra="path-name" opacity="1" transform="matrix(1,0,0,1,0,0)">
              <g transform="scale(1)">
                <g>
                  <path
                    d="M28.74 0.9L28.74 0.9Q28.2 1.14 27.03 1.17 25.86 1.2 24.78 0.87 23.7 0.54 23.46-0.24L23.46-0.24Q23.16-1.68 23.58-6 24-10.32 24.84-15.9 25.68-21.48 26.58-26.7 27.48-31.92 28.02-35.16L28.02-35.16Q26.94-32.28 24.87-26.31 22.8-20.34 21-14.94 19.2-9.54 18.96-8.28L18.96-8.28Q18.9-8.1 17.97-8.07 17.04-8.04 15.81-8.28 14.58-8.52 13.65-9 12.72-9.48 12.72-10.26L12.72-10.26Q12.66-14.28 12.9-18.18 13.14-22.08 13.5-25.8L13.5-25.8Q13.68-28.44 13.89-30.99 14.1-33.54 14.16-36.06L14.16-36.06Q12.78-31.74 11.22-25.2 9.66-18.66 8.28-12.27 6.9-5.88 6.12-2.1L6.12-2.1Q6.06-1.86 6-1.62L6-1.62Q5.76-0.84 4.74-0.57 3.72-0.3 2.52-0.54 1.32-0.78 0.42-1.5-0.48-2.22-0.42-3.48L-0.42-3.48Q-0.24-7.8 0.66-14.16 1.56-20.52 2.7-27 3.84-33.48 4.8-38.25 5.76-43.02 6.06-44.1L6.06-44.1Q6.48-44.46 7.44-44.7 8.4-44.94 9.48-44.79 10.56-44.64 11.28-43.83 12-43.02 11.82-41.28L11.82-41.28Q10.86-36.06 10.17-31.29 9.48-26.52 8.94-22.68L8.94-22.68Q8.4-19.02 8.04-16.62L8.04-16.62Q8.7-19.26 9.42-22.56L9.42-22.56Q10.02-25.38 10.68-28.23 11.34-31.08 12.09-33.54 12.84-36 13.59-37.56 14.34-39.12 15.18-39.42L15.18-39.42Q15.66-39.6 16.65-39.57 17.64-39.54 18.72-39.15 19.8-38.76 20.52-37.86L20.52-37.86Q20.94-37.38 20.97-35.1 21-32.82 20.79-29.61 20.58-26.4 20.34-23.04L20.34-23.04Q20.04-19.38 19.86-16.62L19.86-16.62Q21.48-20.7 22.74-24.15 24-27.6 24.96-30.42L24.96-30.42Q26.04-33.66 26.91-35.97 27.78-38.28 28.59-39.6 29.4-40.92 30.24-41.22L30.24-41.22Q30.24-41.22 30.78-41.13 31.32-41.04 32.07-40.8 32.82-40.56 33.45-40.11 34.08-39.66 34.26-38.94L34.26-38.94Q34.38-37.62 33.69-32.01 33-26.4 31.98-19.29 30.96-12.18 30.03-6.42 29.1-0.66 28.74 0.9ZM39.6 19.86L39.6 19.86Q39.84 20.34 40.23 20.67 40.62 21 40.92 21.18 41.22 21.36 41.34 21.42L41.34 21.42Q42.48 21.42 43.68 17.31 44.88 13.2 46.02 5.34L46.02 5.34Q44.46 6.96 42.99 8.97 41.52 10.98 40.44 13.26L40.44 13.26Q39.96 14.28 39.63 15.42 39.3 16.56 39.24 17.67 39.18 18.78 39.6 19.86ZM51.48-1.98L51.48-1.98Q53.04-3.42 54.12-4.98 55.2-6.54 55.86-8.04 56.52-9.54 56.91-10.8 57.3-12.06 57.48-12.96L57.48-12.96Q57.6-13.38 57.66-13.68L57.66-13.68Q57.78-13.98 57.93-14.07 58.08-14.16 58.32-14.1L58.32-14.1Q58.56-14.04 58.65-13.86 58.74-13.68 58.68-13.38L58.68-13.38Q58.68-13.26 58.62-13.14L58.62-13.14Q58.44-12.42 58.02-11.01 57.6-9.6 56.79-7.74 55.98-5.88 54.66-3.87 53.34-1.86 51.36 0L51.36 0Q50.22 8.1 49.14 13.14 48.06 18.18 47.04 20.58 46.02 22.98 45.12 23.1L45.12 23.1Q44.88 23.1 44.64 23.16L44.64 23.16Q43.8 23.22 42.9 23.22 42 23.22 41.1 22.95 40.2 22.68 39.48 21.96 38.76 21.24 38.4 19.92L38.4 19.92Q37.86 17.7 38.52 15.3 39.18 12.9 40.59 10.53 42 8.16 43.56 6.15 45.12 4.14 46.38 2.7L46.38 2.7Q46.74 0.24 47.04-1.8L47.04-1.8Q48-7.68 48.36-10.86L48.36-10.86Q47.88-10.38 47.31-9.6 46.74-8.82 46.08-7.86L46.08-7.86Q45.06-6.36 43.89-4.86 42.72-3.36 41.64-2.43 40.56-1.5 39.66-1.68L39.66-1.68Q39.54-1.68 39.48-1.74L39.48-1.74Q38.94-1.8 38.37-1.95 37.8-2.1 37.29-2.4 36.78-2.7 36.54-3.18L36.54-3.18Q36.06-4.26 36.09-6.18 36.12-8.1 36.42-10.23 36.72-12.36 37.11-14.25 37.5-16.14 37.8-17.28L37.8-17.28Q37.98-18.12 37.98-18.18L37.98-18.18 38.22-18.18Q38.7-18.24 39.54-18.33 40.38-18.42 41.19-18.39 42-18.36 42.42-18.06L42.42-18.06Q42.54-17.88 42.57-17.73 42.6-17.58 42.54-17.4L42.54-17.4Q42.48-17.22 42.48-17.04L42.48-17.04Q42.48-17.04 42.06-15.39 41.64-13.74 41.19-11.49 40.74-9.24 40.59-7.29 40.44-5.34 40.92-4.56L40.92-4.56Q41.04-4.32 41.16-4.23 41.28-4.14 41.34-4.08L41.34-4.08Q41.4-4.08 41.46-4.02L41.46-4.02Q41.88-4.26 42.81-5.52 43.74-6.78 44.88-8.46L44.88-8.46Q45.84-9.78 46.74-11.07 47.64-12.36 48.39-13.23 49.14-14.1 49.56-14.22L49.56-14.22Q49.62-14.22 50.28-14.16 50.94-14.1 51.66-13.89 52.38-13.68 52.86-13.32L52.86-13.32Q52.92-13.2 52.92-13.14L52.92-13.14Q53.04-12.9 53.07-12.72 53.1-12.54 53.04-12.3L53.04-12.3Q53.04-12.3 52.56-9.66 52.08-7.02 51.48-1.98ZM81.66-42.06L81.66-42.06Q78.6-35.88 73.56-24.66 68.52-13.44 62.52 0.12L62.52 0.12 62.34 0.12Q61.98 0.06 61.14-0.09 60.3-0.24 59.34-0.57 58.38-0.9 57.69-1.5 57-2.1 56.88-3L56.88-3Q56.82-3.84 57.03-5.79 57.24-7.74 57.6-10.56L57.6-10.56Q58.14-14.58 58.71-19.95 59.28-25.32 59.64-31.53 60-37.74 59.76-44.4L59.76-44.4Q60.72-45.18 62.1-45.09 63.48-45 64.74-44.19 66-43.38 66.48-41.94L66.48-41.94Q66.84-40.74 66.69-35.34 66.54-29.94 65.88-22.68 65.22-15.42 64.08-8.7L64.08-8.7Q66-12.18 68.25-17.07 70.5-21.96 72.78-27.12L72.78-27.12Q75.24-32.7 77.31-37.11 79.38-41.52 80.58-43.26L80.58-43.26Q80.82-43.56 81.12-43.62 81.42-43.68 81.66-43.5L81.66-43.5 81.72-43.44Q81.84-43.38 81.93-43.23 82.02-43.08 81.99-42.81 81.96-42.54 81.66-42.06ZM98.82-14.22L98.82-14.22Q98.94-14.64 99.15-14.73 99.36-14.82 99.6-14.76L99.6-14.76Q99.9-14.7 99.99-14.46 100.08-14.22 99.96-13.92L99.96-13.92Q98.7-9.72 96.99-6.66 95.28-3.6 93.36-1.71 91.44 0.18 89.58 0.78 87.72 1.38 86.1 0.54L86.1 0.54Q85.86 0.42 85.71 0.3 85.56 0.18 85.56 0.18L85.56 0.18Q85.2-0.42 85.29-1.65 85.38-2.88 85.77-4.41 86.16-5.94 86.58-7.44L86.58-7.44Q87.06-9.18 87.36-10.44L87.36-10.44Q86.7-9.54 85.86-8.16L85.86-8.16Q85.02-6.84 84.06-5.43 83.1-4.02 82.08-2.79 81.06-1.56 80.04-0.87 79.02-0.18 78.06-0.3L78.06-0.3Q78.06-0.3 77.85-0.36 77.64-0.42 77.31-0.54 76.98-0.66 76.68-0.87 76.38-1.08 76.2-1.38L76.2-1.38Q75.54-2.58 75.66-4.8 75.78-7.02 76.29-9.51 76.8-12 77.37-14.1 77.94-16.2 78.24-17.22L78.24-17.22Q78.42-17.7 78.42-17.76L78.42-17.76Q78.6-17.88 79.29-18.12 79.98-18.36 80.82-18.48 81.66-18.6 82.14-18.3L82.14-18.3Q82.38-18.06 82.41-17.76 82.44-17.46 82.32-17.04L82.32-17.04Q80.64-10.5 79.89-6.93 79.14-3.36 79.62-2.85 80.1-2.34 82.11-4.89 84.12-7.44 88.02-13.2L88.02-13.2Q88.98-13.26 89.7-13.14 90.42-13.02 90.87-12.84 91.32-12.66 91.59-12.48 91.86-12.3 91.95-12.15 92.04-12 92.04-12L92.04-12Q91.8-10.8 91.41-9.45 91.02-8.1 90.66-6.66L90.66-6.66Q90.12-4.98 89.76-3.57 89.4-2.16 89.28-1.26 89.16-0.36 89.52-0.36L89.52-0.36Q90.96-0.96 92.64-2.61 94.32-4.26 95.91-7.11 97.5-9.96 98.82-14.22ZM107.16-14.28L107.16-14.28Q107.22-14.4 107.37-14.97 107.52-15.54 107.49-16.14 107.46-16.74 107.04-17.1L107.04-17.1Q106.68-17.34 106.32-17.28 105.96-17.22 105.69-17.04 105.42-16.86 105.24-16.68L105.24-16.68Q104.82-16.26 104.22-15.3 103.62-14.34 103.11-13.35 102.6-12.36 102.42-11.76L102.42-11.76Q103.8-11.28 104.73-11.61 105.66-11.94 106.23-12.69 106.8-13.44 107.16-14.28ZM113.46-13.62L113.46-13.62Q113.58-13.92 113.76-14.07 113.94-14.22 114.18-14.16L114.18-14.16Q114.66-14.1 114.48-13.38L114.48-13.38Q113.34-10.08 111.93-7.38 110.52-4.68 108.81-2.82 107.1-0.96 105.03-0.21 102.96 0.54 100.56 0L100.56 0Q98.64-0.48 97.71-2.25 96.78-4.02 96.84-6.75 96.9-9.48 97.98-12.78L97.98-12.78Q98.7-14.88 99.9-16.44 101.1-18 102.57-18.69 104.04-19.38 105.6-18.96L105.6-18.96Q106.68-18.66 107.49-18 108.3-17.34 108.51-16.26 108.72-15.18 108.06-13.68L108.06-13.68Q107.64-12.72 106.86-11.85 106.08-10.98 104.85-10.56 103.62-10.14 101.94-10.62L101.94-10.62Q101.28-8.28 101.07-6.72 100.86-5.16 100.92-4.17 100.98-3.18 101.28-2.61 101.58-2.04 101.88-1.74L101.88-1.74Q103.08-0.84 104.49-1.26 105.9-1.68 107.31-3.03 108.72-4.38 109.98-6.24 111.24-8.1 112.17-10.05 113.1-12 113.46-13.62Z"
                    transform="translate(0.42375004291534424, 45.09931182861328)"
                  ></path>
                </g>
              </g>
            </g>
          </g>
        </g>
      </svg>
    </div>
    <ul class="navbar_list">
      <li><router-link to="/">首页</router-link></li>
      <li><router-link to="/mobile">mobile首页</router-link></li>
      <li><router-link to="/news">动态</router-link></li>
      <li><router-link to="/project">项目</router-link></li>
      <li><router-link to="/article">文章</router-link></li>
      <li><router-link to="/office">office</router-link></li>
      <li><router-link to="/about">关于</router-link></li>
    </ul>
    <div class="userInfo">
      <label for="userCheck" class="checkBtn">
        <img
          :src="user_avatars"
          alt=""
          srcset=""
          width="40"
          v-if="user_avatars"
        />
        <img src="@/assets/user.jpg" alt="" srcset="" width="40" v-else />
        <span class="down_icon"
          ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
            <path
              d="M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"
            ></path></svg
        ></span>
      </label>
      <input type="checkbox" name="" id="userCheck" />
      <div class="userMenu">
        <div class="userMenuItem">
          <router-link to="/userInfo">个人信息</router-link>
        </div>
        <div class="userMenuItem">
          <router-link to="/userInfo">个人设置</router-link>
        </div>

        <div class="userMenuItem" @click="loginSet">退出</div>
      </div>
    </div>
  </nav>
</template>

<script>
import { mapState } from "vuex";
export default {
  name: "Navigation",
  data() {
    return {
      isShowNavbar: true,
      scrollTop: 0,
    };
  },
  watch: {
    scrollTop(newValue) {
      // console.log(newValue);
      if (newValue > 100) {
        this.isShowNavbar = false;
      } else {
        this.isShowNavbar = true;
      }
    },
  },
  computed: {
    ...mapState("login", ["isLogin"]),
    ...mapState("user", ["user_avatars"]),
  },
  mounted() {
    window.addEventListener("scroll", this.onScroll);
    console.log(this.user_avatars);
  },
  methods: {
    loginSet() {
      if (this.isLogin) {
        this.$store.commit("login/loginOut");
        this.$router.push("/login");
      }
    },
    onScroll() {
      this.scrollTop =
        window.pageYOffset ||
        document.documentElement.scrollTop ||
        document.body.scrollTop;
    },
  },
};
</script>

<style lang="scss" scoped>
.navbar {
  position: fixed;
  display: flex;
  align-items: center;
  top: 0;
  left: 0;
  width: 100%;
  min-width: 960px;
  background: #fff;
  border-bottom: 1px solid #f1f1f1;
  color: #909090;
  height: 5rem;
  z-index: 250;
  font-size: 1.5rem;
  .logo {
    margin-left: 5rem;
    padding-top: 1.5rem;
    height: 5rem;
  }
  .navbar_list {
    flex-grow: 1;
    display: flex;
    li {
      display: inline-block;
    }
    a {
      display: inline-block;
      padding: 0 1.334rem;
      height: 5rem;
      line-height: 5rem;
    }
  }
  button {
    position: relative;
    margin-right: 45px;

    outline: none;
    border-radius: 8px;
    border: none;
    background-color: #38e07e;
    width: 64px;
    height: 30px;
    color: #fff;
    font-weight: 600;
    padding: 8px 15px;
  }
}
.down_icon {
  display: inline-block;
  width: 10px;
}
.userInfo {
  position: relative;
  cursor: pointer;
}
.userInfo input[type="checkbox"] {
  position: absolute;
  top: -999px;
  left: 0;
}
input:checked ~ div {
  // display: block;
  transform: scale(1);
}
.checkBtn {
  display: inline-block;
  margin-right: 60px;
  width: 50px;
  padding-top: 10px;
  height: 50px;
}
.checkBtn img {
  border-radius: 20%;
}
.userMenu {
  position: absolute;
  background-color: #fff;
  z-index: 99;
  font-size: 1rem;
  right: 20px;
  transition: transform 0.2s;
  transform: scale(0);
  transform-origin: top center;
}
.userMenuItem {
  border-radius: 5px;
  margin: 5px 0;
  line-height: 30px;
  padding: 0 17px;
  font-size: 14px;
}
.userMenuItem:hover {
  background-color: rgba(8, 230, 60, 0.3);
}
.navbar_list .router-link-exact-active {
  /* 路由点击后的样式 */
  background-color: rgb(27, 175, 180);
  /* 添加需要的样式 */
}
.nav {
  display: block;
  box-sizing: border-box;
}
</style>
